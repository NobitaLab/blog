# 实施计划

## 项目初始化阶段

- [x] 1. 项目环境配置
  - 检查Go环境配置（GOPATH模式）
  - 检查Node.js和npm环境
  - 验证开发工具链
  - _需求: 项目基础环境要求

- [x] 2. 数据库初始化
  - 创建SQLite数据库文件
  - 执行数据库表结构创建脚本
  - 验证数据库连接
  - _需求: 数据持久化需求

## 后端开发阶段

- [x] 3. 用户认证模块开发
  - 实现用户注册接口
  - 实现用户登录接口
  - 实现JWT Token生成和验证
  - 实现密码加密存储
  - _需求: 需求1 - 用户认证系统

- [x] 4. 博客管理模块开发
  - 实现博客CRUD接口
  - 实现博客列表分页
  - 实现博客搜索功能
  - 实现权限验证中间件
  - _需求: 需求2 - 博客文章管理

- [x] 5. 中间件和工具开发
  - 实现认证中间件
  - 实现日志中间件
  - 实现CORS中间件
  - 实现错误处理工具
  - _需求: 系统安全和稳定性

## 前端开发阶段

- [x] 6. 基础框架搭建
  - 配置Vue.js项目结构
  - 配置Vue Router路由
  - 配置Axios HTTP客户端
  - 配置全局样式和主题
  - _需求: 需求4 - 响应式设计

- [x] 6.1. 现代化编辑器开发
  - 创建AdvancedEditor组件
  - 实现富文本工具栏
  - 添加图片上传功能
  - 集成Mermaid图表支持
  - 实现代码高亮功能
  - 添加响应式设计
  - _需求: 现代化编辑器需求

- [x] 6.2. 编辑器界面优化
  - 增大编辑文本框尺寸（600px高度）
  - 将编辑/预览/分屏选项移到编辑器上方
  - 删除作者输入栏，自动使用当前用户
  - 优化编辑器布局和用户体验
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.3. 编译问题修复
  - 修复数据库配置问题，恢复MySQL配置
  - 解决SQLite驱动导入错误
  - 确保项目正常编译运行
  - _需求: 系统稳定性要求

- [x] 6.4. 掘金风格编辑器改造
  - 完全重写AdvancedEditor组件，采用掘金现代化设计
  - 实现掘金风格的工具栏，包含SVG图标和下拉菜单
  - 优化编辑器布局，支持沉浸式编辑体验
  - 添加字数统计和自动保存状态显示
  - 实现掘金风格的快捷键支持（Ctrl+B, Ctrl+I, Ctrl+K）
  - 优化预览模式，支持Mermaid图表和代码高亮
  - 改进响应式设计，支持移动端适配
  - _需求: 需求6, 需求7

- [x] 6.5. 修复文章编辑页面显示问题
  - 修复AdvancedEditor组件的props传递问题
  - 添加必要的Vue导入（watch函数）
  - 优化编辑器容器高度设置，确保正常显示
  - 修复BlogEdit页面的样式布局
  - _需求: 系统稳定性要求

- [x] 6.6. 编辑器界面优化改进
  - 修复文章编辑框宽度，使其占满全屏
  - 优化BlogEdit页面布局，移除最大宽度限制
  - 调整编辑器高度为100vh，实现全屏编辑体验
  - 修复双屏模式缺少工具栏的问题
  - 确保工具栏在所有模式下都显示
  - 优化工具栏按钮在预览模式下的禁用状态
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.7. 修复工具栏图标显示异常
  - 修复加粗、斜体、标题等SVG图标显示异常问题
  - 使用标准的24x24 viewBox和简洁的SVG路径
  - 优化所有工具栏按钮的图标显示
  - 确保图标在不同浏览器中正常显示
  - 提升编辑器的视觉体验和可用性
  - _需求: 系统稳定性要求

- [x] 6.8. 编辑器界面进一步优化
  - 修复删除线图标不显示问题，使用stroke属性
  - 放大工具栏图标尺寸，从32x32提升到40x40按钮尺寸
  - 将编辑/预览/分屏按钮移到工具栏中，统一操作体验
  - 删除标题"编辑博客"，简化界面布局
  - 优化模式切换按钮的视觉反馈
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.9. 编辑器界面最终优化
  - 删除标题输入框的"标题"标签，简化界面
  - 统一工具栏图标大小，移除加粗样式
  - 将编辑/预览/分屏按钮移到工具栏最右端
  - 为模式切换按钮组添加分隔线和右边距
  - 优化工具栏布局，提升用户体验
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.10. 编辑器视觉优化
  - 工具栏图标缩小一倍，从40x40缩小到20x20按钮尺寸
  - 图标尺寸从32x32缩小到16x16，使用扁平化设计
  - 更新所有图标为更简洁的扁平化样式
  - 标题输入框字体放大到24px并加粗
  - 增加标题输入框内边距，提升视觉层次
  - 使用系统字体栈，确保跨平台一致性
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.11. 图标尺寸和显示修复
  - 将工具栏按钮尺寸调整为30x30，图标尺寸为30x30
  - 修复模式切换图标不显示问题，恢复原始SVG路径
  - 为模式切换按钮添加强制显示样式
  - 确保所有图标在不同浏览器中正常显示
  - 优化图标显示效果，提升用户体验
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.12. 图标尺寸优化调整
  - 按照网上常用图标尺寸标准，将按钮调整为32x32
  - 工具栏图标统一设置为18x18，保证清晰度
  - 模式切换按钮图标放大到20x20，确保可见性
  - 使用CSS控制图标尺寸，便于统一调整
  - 优化图标显示效果，解决图标太小看不清的问题
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.13. 模式切换图标最终修复
  - 将模式切换按钮的SVG属性从16x16改为20x20
  - 移除CSS中的强制尺寸设置，避免冲突
  - 确保编辑、预览、分屏图标都能正常显示
  - 优化图标显示效果，提升用户体验
  - 解决图标显示不一致的问题
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.14. 工具栏图标全面修复
  - 修复删除线和分割线图标不显示问题，使用stroke属性
  - 修复加粗图标显示不完整问题，使用更清晰的路径
  - 修复链接图标显示成大黑点问题，使用stroke线条图标
  - 修复模式选择图标太小问题，从20x20放大到24x24
  - 统一图标显示方式，提升视觉一致性
  - 优化所有工具栏图标的显示效果
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.15. 工具栏图标统一stroke样式
  - 将所有工具栏图标统一改为stroke线条样式
  - 加粗、斜体、行内代码、删除线图标使用stroke样式
  - 标题、引用、列表图标使用stroke样式
  - 链接、图片、代码块、Mermaid图标使用stroke样式
  - 模式切换按钮（编辑、预览、分屏）使用stroke样式
  - 统一所有图标的视觉风格，提升一致性
  - 使用stroke-width="2"和圆角线条，现代化设计
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.17. 工具栏图标比例统一
  - 统一普通工具栏图标尺寸为16x16
  - 统一模式切换按钮图标尺寸为20x20
  - 通过CSS强制控制所有图标尺寸
  - 确保SVG属性与CSS设置一致
  - 解决工具栏图标比例不统一问题
  - 提升工具栏视觉一致性和专业度

- [x] 6.18. 模式切换图标优化
  - 去掉模式切换按钮的外框样式
  - 将模式切换图标从28x28放大到32x32
  - 移除按钮的padding、border、background等装饰
  - 让图标本身更加突出和清晰
  - 提升模式切换的视觉识别度
  - 优化用户体验
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.19. 修复模式切换图标显示问题
  - 修复被选中图标不显示的问题
  - 为激活状态图标设置白色stroke颜色
  - 为未激活状态图标设置灰色stroke颜色
  - 确保图标在不同状态下都能正常显示
  - 提升模式切换的视觉反馈
  - 优化用户体验
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.20. 修复预览图标显示问题
  - 替换复杂的预览图标路径为更简单的眼睛图标
  - 使用更清晰的SVG路径：眼睛轮廓+中心圆点
  - 添加强制显示样式确保激活状态下图标可见
  - 解决预览模式激活时图标变空白的问题
  - 提升图标在不同状态下的显示稳定性
  - 优化用户体验
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.21. 彻底修复模式切换图标显示问题
  - 将所有模式切换图标改为固定颜色stroke="#666"
  - 移除对currentColor的依赖，避免颜色继承问题
  - 为激活状态添加更强制性的CSS样式
  - 确保SVG路径和圆形元素都能正确显示白色
  - 解决图标在激活状态下显示异常的问题
  - 提升图标显示的稳定性和可靠性
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.22. 使用Vue动态绑定修复图标颜色
  - 使用Vue的:stroke动态绑定替代固定颜色
  - 根据editorMode状态动态设置图标颜色
  - 激活状态显示白色(#fff)，未激活显示灰色(#666)
  - 完全绕过CSS样式冲突问题
  - 确保图标颜色与状态完全同步
  - 提升图标显示的准确性和可靠性
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.23. 调整模式切换图标颜色方案
  - 修改激活状态图标颜色为蓝色(#007bff)
  - 修改未激活状态图标颜色为深灰色(#333)
  - 移除激活状态的背景色，保持透明背景
  - 移除激活状态的阴影效果
  - 实现选中图标从黑色变蓝色的效果
  - 保持背景色不变的设计要求
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.24. 修复被选中图标消失问题
  - 移除CSS中强制设置白色stroke的样式
  - 移除CSS中强制设置白色path和circle的样式
  - 让内联样式的颜色设置生效
  - 确保激活状态图标显示蓝色而不是消失
  - 解决CSS样式与内联样式冲突的问题
  - 提升图标显示的稳定性
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.25. 调整普通工具栏图标尺寸
  - 将普通工具栏图标从16x16调整为20x20
  - 提升图标可见性和点击体验
  - 保持模式切换图标32x32不变
  - 优化工具栏图标的视觉层次
  - 提升用户操作的便利性
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.26. 优化分屏图标线条粗细
  - 将分屏图标的stroke-width从2调整为1.5
  - 减少图标的视觉重量，使其更轻盈
  - 保持图标的清晰度和可识别性
  - 与其他图标保持视觉一致性
  - 提升整体工具栏的美观度
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.27. 删除模式切换按钮背景方块
  - 为模式切换按钮添加width: auto样式
  - 覆盖继承的juejin-btn固定尺寸样式
  - 移除按钮的固定宽高限制
  - 让按钮尺寸完全由图标决定
  - 消除模式切换按钮下方的长方块
  - 提升按钮的视觉简洁性
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.28. 完全禁用模式切换按钮悬停效果
  - 为模式切换按钮添加:hover样式覆盖
  - 强制设置悬停时背景为透明
  - 禁用悬停时的颜色变化
  - 确保按钮在任何状态下都无背景方块
  - 彻底消除模式切换按钮的视觉干扰
  - 提升按钮的纯净视觉效果
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.29. 重构模式切换按钮为普通工具栏按钮
  - 移除模式切换按钮的特殊样式类
  - 将模式切换按钮改为使用标准juejin-btn样式
  - 调整图标尺寸从32x32改为20x20，与普通按钮一致
  - 移除mode-switcher容器的特殊样式
  - 让模式切换按钮与粗体等普通按钮保持完全一致的外观
  - 简化工具栏设计，提升视觉统一性
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.30. 将模式切换按钮移到工具栏最右端
  - 为模式切换按钮组添加mode-switcher类
  - 使用margin-left: auto将按钮组推到最右端
  - 添加左边框分隔线，与左侧按钮组区分
  - 增加左边距，提升视觉分离效果
  - 优化工具栏布局，突出模式切换功能
  - 提升用户界面的逻辑性和易用性
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.31. 添加文章目录功能
  - 在工具栏右端添加目录按钮，使用三横线图标
  - 实现目录显示面板，支持多级标题展示
  - 添加目录生成逻辑，自动解析Markdown标题
  - 实现点击目录项跳转到对应标题位置
  - 支持目录面板的显示/隐藏切换
  - 优化目录样式，支持多级缩进和层级显示
  - 提升长文档的导航体验
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.32. 调整目录面板显示位置
  - 将目录面板从右侧移到左侧显示
  - 调整面板位置，避免覆盖标题栏和工具栏
  - 设置top: 120px，确保在工具栏下方显示
  - 调整面板宽度为280px，高度为calc(100vh - 120px)
  - 修改边框和阴影方向，适配左侧显示
  - 优化目录面板的布局和视觉效果
  - 提升用户体验，避免界面遮挡
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.33. 实现目录栏与编辑栏并列显示
  - 将目录面板移到编辑器容器内部，与编辑栏并列
  - 使用flex布局实现目录栏和编辑栏的并列显示
  - 支持目录栏、编辑栏、预览栏的三屏显示
  - 设置目录栏固定宽度280px，编辑栏自适应剩余空间
  - 优化布局，确保各面板能够正常显示和交互
  - 提升多屏编辑的用户体验
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.34. 一比一还原掘金编辑器界面
  - 完全重写AdvancedEditor组件，按照掘金编辑页面结构实现
  - 实现掘金风格的顶部标题栏，包含标题输入、状态显示、草稿箱、发布按钮
  - 实现掘金风格的工具栏，包含所有编辑工具和模式切换按钮
  - 实现掘金风格的编辑器主体，支持分屏编辑和预览
  - 实现掘金风格的侧边栏，包含帮助面板和目录功能
  - 实现掘金风格的状态栏，显示字符数、行数等信息
  - 使用掘金相同的CSS类名和样式结构
  - 支持Markdown渲染、代码高亮、Mermaid图表等功能
  - 完全还原掘金编辑器的视觉设计和交互体验
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.35. 优化编辑器界面和功能
  - 删除BlogEdit.vue中多余的标题栏，简化界面结构
  - 为工具栏图标添加点击事件，实现Markdown语法插入功能
  - 实现草稿箱和发布按钮的点击事件，支持保存和发布功能
  - 删除底部的保存和取消按钮，将功能集成到编辑器内部
  - 添加标题的双向绑定，支持从父组件传递和更新标题
  - 实现编辑器模式切换功能（编辑、预览、分屏）
  - 优化编辑器布局，支持不同模式下的显示效果
  - 提升用户体验，减少界面冗余，增强功能可用性
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.36. 调整工具栏右端图标绑定事件
  - 将编辑模式图标改为目录功能，支持显示/隐藏文章目录
  - 将预览模式图标改为帮助功能，支持显示/隐藏帮助面板
  - 将分屏模式图标改为仅编辑区功能，支持纯编辑模式
  - 将全屏模式图标改为仅预览区功能，支持纯预览模式
  - 将导入图标改为全屏功能，支持全屏编辑体验
  - 保持原有图标样式不变，只修改绑定的事件和功能
  - 实现目录和帮助面板的互斥显示，确保界面简洁
  - 支持编辑器模式切换，提供灵活的编辑体验
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.37. 实现编辑器模式切换功能
  - 实现仅编辑区模式，只显示编辑区域，隐藏预览区域
  - 实现仅预览区模式，只显示预览区域，隐藏编辑区域
  - 实现分屏模式（默认），同时显示编辑和预览区域
  - 支持仅编辑区和仅预览区按钮的点击切换功能
  - 点击已选中的按钮可取消选中，回到分屏模式
  - 支持动态切换编辑器宽度，适配不同显示模式
  - 优化编辑器布局，确保在不同模式下都有良好的显示效果
  - 提升用户编辑体验，提供灵活的编辑环境
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.38. 实现目录和帮助面板切换显示功能
  - 实现目录面板显示功能，自动解析Markdown标题生成目录
  - 实现帮助面板显示功能，提供Markdown语法和快捷键说明
  - 实现目录和帮助面板的互斥显示，确保界面简洁
  - 支持点击关闭按钮关闭侧边栏面板
  - 优化侧边栏布局，支持不同面板内容的切换显示
  - 提升用户导航体验，方便长文档的编辑和查看
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.39. 删除全屏功能
  - 删除工具栏中的全屏按钮
  - 删除全屏相关的响应式数据和函数
  - 删除全屏状态监听器
  - 恢复标题栏的始终显示状态
  - 简化编辑器界面，移除不必要的全屏功能
  - 保持编辑器核心功能的完整性
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.40. 优化编辑器布局，支持不同模式下的显示效果
  - 优化编辑器主体布局，支持编辑、预览、分屏三种模式
  - 实现动态宽度调整，根据侧边栏显示状态调整编辑器宽度
  - 优化分屏模式布局，确保编辑和预览区域合理分配空间
  - 实现侧边栏条件显示，只在需要时显示目录或帮助面板
  - 优化CSS样式，确保在不同模式下都有良好的视觉效果
  - 提升整体用户体验，提供灵活且美观的编辑界面
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.41. 调整工具栏高度和图标尺寸
  - 减少工具栏的padding，从8px 16px调整为4px 12px
  - 缩小工具栏图标尺寸，从32x32调整为28x28
  - 保持工具栏的视觉层次和功能完整性
  - 优化工具栏的紧凑性，提供更多编辑空间
  - 提升编辑器的空间利用率
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.42. 优化状态栏显示
  - 确保状态栏始终显示在编辑器底部
  - 优化状态栏样式，减少padding从8px调整为6px
  - 添加min-height和flex-shrink属性，确保状态栏稳定显示
  - 优化编辑器主体布局，确保状态栏不被隐藏
  - 保持字符数和行数统计的实时更新
  - 提升编辑器的信息反馈和用户体验
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.43. 修复编辑页面布局问题
  - 修复编辑页面一屏放不下的问题
  - 调整AdvancedEditor容器高度从100vh改为100%
  - 在BlogEdit.vue中添加overflow: hidden防止内容溢出
  - 优化编辑器主体区域的min-height设置
  - 确保编辑器在视口内正确显示，不会产生滚动条
  - 提升编辑页面的用户体验和视觉效果
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.44. 删除状态栏
  - 删除编辑器底部的状态栏显示
  - 移除状态栏HTML模板结构
  - 删除状态栏相关的CSS样式
  - 简化编辑器界面，提供更多编辑空间
  - 优化编辑器布局，提升用户体验
  - _需求: 需求7 - 编辑器界面优化

- [x] 6.44. 进一步优化页面高度布局
  - 重构BlogEdit.vue的布局结构，使用flex布局
  - 设置blog-edit容器为100vh高度，使用flex布局
  - 调整edit-form为flex: 1，继承父容器高度
  - 优化loading和error状态的显示，使用flex居中
  - 确保所有状态下的页面都能完整显示
  - 消除页面高度计算冲突，提供稳定的布局
  - _需求: 需求7 - 编辑器界面优化

- [ ] 7. 用户认证界面开发
  - 实现登录页面
  - 实现注册页面
  - 实现认证状态管理
  - 实现路由守卫
  - _需求: 需求1 - 用户认证系统

- [ ] 8. 博客管理界面开发
  - 实现博客列表页面
  - 实现博客详情页面
  - 实现博客创建/编辑页面
  - 实现博客删除确认
  - _需求: 需求2 - 博客文章管理

- [ ] 9. Markdown编辑器集成
  - 集成Markdown编辑器组件
  - 实现实时预览功能
  - 实现Markdown渲染显示
  - 实现编辑器工具栏
  - _需求: 需求3 - Markdown支持

## 集成测试阶段

- [ ] 10. 前后端集成测试
  - 测试用户注册登录流程
  - 测试博客CRUD操作
  - 测试Markdown渲染功能
  - 测试响应式布局
  - _需求: 所有功能需求

- [ ] 11. 安全测试
  - 测试认证机制安全性
  - 测试输入验证
  - 测试XSS防护
  - 测试SQL注入防护
  - _需求: 系统安全要求

## 部署和优化阶段

- [ ] 12. 性能优化
  - 前端代码分割和懒加载
  - 后端数据库查询优化
  - 静态资源压缩
  - 缓存策略配置
  - _需求: 性能要求

- [ ] 13. 生产环境部署
  - 配置生产环境变量
  - 编译前端静态文件
  - 编译后端二进制文件
  - 配置Web服务器
  - _需求: 部署要求

## 文档和维护阶段

- [ ] 14. 项目文档完善
  - 更新README.md文档
  - 编写API文档
  - 编写部署文档
  - 编写用户使用手册
  - _需求: 文档要求

- [ ] 15. 代码质量检查
  - 代码格式化检查
  - 代码注释完善
  - 单元测试编写
  - 代码审查
  - _需求: 代码质量要求

## 任务优先级

### 高优先级（核心功能）
- 任务1-5: 后端核心功能开发
- 任务6-9: 前端核心功能开发
- 任务10: 集成测试

### 中优先级（增强功能）
- 任务11: 安全测试
- 任务12: 性能优化

### 低优先级（完善功能）
- 任务13-15: 部署、文档和质量检查

## 里程碑节点

### 里程碑1: 基础功能完成
- 完成用户认证和博客CRUD功能
- 前后端基本集成
- 预计时间: 3-5天

### 里程碑2: 功能完善
- 完成Markdown支持和响应式设计
- 完成掘金风格编辑器改造
- 完成安全测试和性能优化
- 预计时间: 2-3天

### 里程碑3: 项目交付
- 完成部署配置和文档
- 完成最终测试和验收
- 预计时间: 1-2天
